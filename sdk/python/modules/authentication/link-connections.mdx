---
title: "Connection Management"
description: "List, monitor, import, and manage OnlyFans connections"
---

## Overview

Connections represent authenticated OnlyFans accounts linked to your organization. After a user completes the [Link flow](/sdk/python/modules/authentication/link-authentication), you receive a connection ID (`conn_xxx`) that you use for all Access API calls. This page covers managing those connections.

## List Connections

Retrieve all connections with optional filters for status, import type, and pagination.

```python
from onlyfans_sdk import OFAuthClient, account

client = OFAuthClient(api_key="your-api-key")

# List all connections
connections = account.list_connections(client)
for conn in connections["list"]:
    print(f"{conn['id']}: {conn['userData']['username']} ({conn['status']})")

# Filter by status
active = account.list_connections(client, status="active", limit=10)

# Filter by imported flag
imported = account.list_connections(client, imported="true")
```

### Query Parameters

| Parameter | Type | Description |
| --- | --- | --- |
| `status` | `"active"` \| `"expired"` \| `"awaiting_2fa"` | Filter by connection status |
| `imported` | `"true"` \| `"false"` | Filter by whether connection was imported |
| `limit` | `number` | Items per page (default 20) |
| `offset` | `number` | Number of items to skip |

## Pagination

### Generator Iteration

Python uses generators for automatic pagination:

```python
# Iterate over ALL connections, across all pages
for connection in account.iter_connections(client):
    print(connection["id"], connection["userData"]["username"])

# With options
for connection in account.iter_connections(
    client,
    status="active",
    max_items=100,
    page_size=20,
):
    print(connection["id"])
```

## Connection Settings

Each connection has settings you can read and update, including vault cache configuration.

### Get Settings

```python
settings = account.get_connection_settings(client, connection_id="conn_xxx")

print("Connection:", settings["connectionId"])
print("Vault cache enabled:", settings["vaultCache"]["enabled"])
```

### Update Settings

```python
updated = account.update_connection_settings(
    client,
    connection_id="conn_xxx",
    body={
        "vaultCache": {
            "enabled": True,
            "settings": {
                "autoCacheVault": True,
                "cacheImages": True,
                "cacheVideos": True,
            },
        },
    },
)
```

## Delete Connection

Permanently disconnect an account. This logs the user out and stops billing for the connection.

```python
try:
    account.delete_connections(client, connection_id="conn_xxx")
    print("Connection deleted")
except Exception as e:
    print("Failed to delete:", e)
```

<Warning>
  Deleting a connection is permanent. The user must re-authenticate through Link to restore access.
</Warning>

## Invalidate Connection

Mark a connection as expired without deleting it. The connection record is preserved, allowing the user to reconnect with updated permissions.

```python
account.invalidate_connections(client, connection_id="conn_xxx")
print("Connection invalidated — user must re-authenticate")
```

### Invalidate vs Delete

| | Invalidate | Delete |
| --- | --- | --- |
| Connection record | Preserved | Removed |
| User can reconnect | Yes, with same connection ID | Must create new connection |
| Use case | Force re-auth, update permissions | Full disconnect, stop billing |

## Import Connection

Import an externally managed OnlyFans session. Imported connections are not billed monthly and are not health-checked. They can be used through the Access API immediately.

```python
imported = account.create_connections_connections_import(
    client,
    body={
        "cookie": "sess=your_session; auth_id=12345; auth_uid_12345=xxx",
        "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",
        "permissions": ["profile:read", "posts:read", "messages:read"],
        "clientReferenceId": "my-ref-123",
    },
)

print("Imported connection:", imported["id"])
print("Status:", imported["status"])
print("User:", imported["userData"]["username"])
```

### Update Imported Session

Refresh an imported connection's session data without deleting and re-importing:

```python
updated = account.update_connections_connections_import(
    client,
    connection_id="conn_xxx",
    body={
        "cookie": "sess=new_session; auth_id=12345; auth_uid_12345=yyy",
        "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",
    },
)

print("Session updated:", updated["id"], updated["status"])
```

<Info>
  The new session must belong to the **same OnlyFans user** (matched by user ID from the cookie). This preserves the connection ID across session refreshes.
</Info>

## Connection Statuses

| Status | Description |
| --- | --- |
| `active` | Connection is valid and can be used for API calls |
| `expired` | Session has expired — user needs to re-authenticate via Link |
| `awaiting_2fa` | Waiting for 2FA verification to complete |

## Next Steps

<CardGroup cols={2}>
  <Card title="Access API" icon="database" href="/sdk/python/modules/content-management">
    Use connection IDs to fetch OnlyFans data
  </Card>
  <Card title="Webhooks" icon="webhook" href="/reference/webhooks">
    Get notified when connections expire or change status
  </Card>
</CardGroup>
