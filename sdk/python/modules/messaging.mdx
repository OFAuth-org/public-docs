---
title: "Messaging"
description: "Send direct messages, manage mass campaigns, and retrieve conversations through the OFAuth Python SDK"
---

## Overview

The Messaging module handles all chat and messaging functionality including direct messages, mass message campaigns, and chat media retrieval.

<CardGroup cols={3}>
  <Card title="Chats" icon="messages">
    List conversations and filter by status
  </Card>
  <Card title="Direct Messages" icon="message">
    Send, list, and delete messages in a chat
  </Card>
  <Card title="Mass Messages" icon="megaphone">
    Create and manage mass message campaigns
  </Card>
</CardGroup>

**Permissions required:** `messages:read` for listing, `messages:write` for sending/deleting.

---

## Chat List

Retrieve your active conversations with filtering and pagination.

```python
from onlyfans_sdk import OFAuthClient, messages

client = OFAuthClient(api_key="your-api-key", connection_id="conn_xxx")

# List recent chats
chats = messages.list_chats(
    client,
    limit=20,
    order="recent",
    filter="unread",
)

for chat in chats["list"]:
    print(chat["withUser"]["username"])
```

### Chat List Filters

| Filter | Description |
|--------|-------------|
| `recent` / `old` | Sort by message recency (via `order`) |
| `priority` | Priority conversations only (via `filter`) |
| `who_tipped` | Users who have tipped (via `filter`) |
| `unread` | Unread conversations only (via `filter`) |

You can also filter by `userListId` to show chats only from a specific user list.

### Paginating Chats

The SDK supports automatic pagination through generators:

```python
# Generator handles pagination automatically
for chat in messages.iter_chats(client, order="recent", max_items=100, page_size=20):
    print(chat["withUser"]["username"])
```

---

## Messages

### List Messages in a Chat

Retrieve message history with a specific user.

```python
msgs = messages.list_chats_chats_messages(
    client,
    user_id="123456789",
    limit=50,
    query="search term",
)

for msg in msgs["list"]:
    print(msg["text"], msg["createdAt"])
```

### Send a Message

Send a direct message to a specific user.

```python
result = messages.create_chats_chats_messages(
    client,
    user_id="123456789",
    body={
        "text": "Hey! Thanks for subscribing!",
    },
)

print("Message sent:", result["id"])
```

### Delete (Unsend) a Message

```python
messages.delete_chats_chats_messages(
    client,
    user_id="123456789",
    message_id="987654",
    body={},
)
```

---

## Mass Messages

Mass messages let you send a single message to multiple fans at once. They can be sent immediately or scheduled.

### List Mass Messages

```python
mass_msgs = messages.list_mass_messages(
    client,
    limit=20,
    type="scheduled",
)

for msg in mass_msgs["list"]:
    print(msg["id"], msg["text"])
```

### Create a Mass Message

```python
mass_msg = messages.create_mass_messages(
    client,
    body={
        "text": "New content available! Check it out!",
        "mediaIds": [12345],
    },
)

print("Mass message created:", mass_msg["id"])
```

### Get, Update, and Delete Mass Messages

```python
# Get a specific mass message
msg = messages.get_mass_messages(client, mass_message_id="456")

# Update a mass message
messages.replace_mass_messages(
    client,
    mass_message_id="456",
    body={"text": "Updated message text"},
)

# Delete a mass message
messages.delete_mass_messages(client, mass_message_id="456")
```

---

## Chat Media

Retrieve media shared in a chat conversation. Filter by type to get only photos, videos, or audio.

```python
media = messages.list_chats_chats_media(
    client,
    user_id="123456789",
    limit=20,
    type="photos",
)

for item in media["list"]:
    print(item["id"], item["type"])
```

---

## Error Handling

All SDKs throw exceptions on API errors. Use try/except to handle them:

```python
from onlyfans_sdk import OFAuthError

try:
    messages.create_chats_chats_messages(
        client,
        user_id="123456789",
        body={"text": "Hello!"},
    )
except OFAuthError as e:
    print(f"API Error {e.status}: {e}")
    print(f"Error code: {e.code}")
```

<Warning>
  **Rate Limiting**: OnlyFans has rate limits for messaging. Space out bulk operations and handle `429` status codes with appropriate backoff.
</Warning>
