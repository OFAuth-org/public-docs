---
title: "Connection Management"
description: "List, monitor, import, and manage OnlyFans connections"
---

## Overview

Connections represent authenticated OnlyFans accounts linked to your organization. After a user completes the [Link flow](/sdk/csharp/modules/authentication/link-authentication), you receive a connection ID (`conn_xxx`) that you use for all Access API calls. This page covers managing those connections.

## List Connections

Retrieve all connections with optional filters for status, import type, and pagination.

```csharp
using OFAuth;

var client = new OFAuthClient("your-api-key");

// List all connections
var connections = await client.GetAsync<ConnectionsListResponse>(
    "/v2/account/connections"
);
foreach (var conn in connections.List)
{
    Console.WriteLine($"{conn.Id}: {conn.UserData.Username} ({conn.Status})");
}

// Filter by status
var active = await client.GetAsync<ConnectionsListResponse>(
    "/v2/account/connections",
    query: new Dictionary<string, string?>
    {
        ["status"] = "active",
        ["limit"] = "10"
    }
);
```

### Query Parameters

| Parameter | Type | Description |
| --- | --- | --- |
| `status` | `"active"` \| `"expired"` \| `"awaiting_2fa"` | Filter by connection status |
| `imported` | `"true"` \| `"false"` | Filter by whether connection was imported |
| `limit` | `number` | Items per page (default 20) |
| `offset` | `number` | Number of items to skip |

## Pagination

### Manual Pagination (C#)

```csharp
var offset = 0;
var limit = 20;

while (true)
{
    var page = await client.GetAsync<ConnectionsListResponse>(
        "/v2/account/connections",
        query: new Dictionary<string, string?>
        {
            ["limit"] = limit.ToString(),
            ["offset"] = offset.ToString()
        }
    );

    foreach (var conn in page.List)
    {
        Console.WriteLine($"{conn.Id}: {conn.UserData.Username}");
    }

    if (!page.HasMore) break;
    offset += page.List.Count;
}
```

## Connection Settings

Each connection has settings you can read and update, including vault cache configuration.

### Get Settings

```csharp
var settings = await client.GetAsync<ConnectionSettingsResponse>(
    "/v2/account/connections/conn_xxx/settings"
);

Console.WriteLine($"Vault cache enabled: {settings.VaultCache.Enabled}");
```

### Update Settings

```csharp
var updated = await client.PatchAsync<ConnectionSettingsUpdateResponse>(
    "/v2/account/connections/conn_xxx/settings",
    body: new
    {
        vaultCache = new
        {
            enabled = true,
            settings = new
            {
                autoCacheVault = true,
                cacheImages = true,
                cacheVideos = true
            }
        }
    }
);
```

## Delete Connection

Permanently disconnect an account. This logs the user out and stops billing for the connection.

```csharp
await client.DeleteAsync<object>("/v2/account/connections/conn_xxx");
Console.WriteLine("Connection deleted");
```

<Warning>
  Deleting a connection is permanent. The user must re-authenticate through Link to restore access.
</Warning>

## Invalidate Connection

Mark a connection as expired without deleting it. The connection record is preserved, allowing the user to reconnect with updated permissions.

```csharp
await client.PostAsync<object>(
    "/v2/account/connections/conn_xxx/invalidate"
);
Console.WriteLine("Connection invalidated — user must re-authenticate");
```

### Invalidate vs Delete

| | Invalidate | Delete |
| --- | --- | --- |
| Connection record | Preserved | Removed |
| User can reconnect | Yes, with same connection ID | Must create new connection |
| Use case | Force re-auth, update permissions | Full disconnect, stop billing |

## Import Connection

Import an externally managed OnlyFans session. Imported connections are not billed monthly and are not health-checked. They can be used through the Access API immediately.

```csharp
var imported = await client.PostAsync<ConnectionImportResponse>(
    "/v2/account/connections/import",
    body: new
    {
        cookie = "sess=your_session; auth_id=12345; auth_uid_12345=xxx",
        userAgent = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",
        permissions = new[] { "profile:read", "posts:read", "messages:read" },
        clientReferenceId = "my-ref-123"
    }
);

Console.WriteLine($"Imported connection: {imported.Id}");
Console.WriteLine($"Status: {imported.Status}");
Console.WriteLine($"User: {imported.UserData.Username}");
```

### Update Imported Session

Refresh an imported connection's session data without deleting and re-importing:

```csharp
var updated = await client.PatchAsync<ConnectionImportResponse>(
    "/v2/account/connections/import/conn_xxx",
    body: new
    {
        cookie = "sess=new_session; auth_id=12345; auth_uid_12345=yyy",
        userAgent = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
    }
);
```

<Info>
  The new session must belong to the **same OnlyFans user** (matched by user ID from the cookie). This preserves the connection ID across session refreshes.
</Info>

## Connection Statuses

| Status | Description |
| --- | --- |
| `active` | Connection is valid and can be used for API calls |
| `expired` | Session has expired — user needs to re-authenticate via Link |
| `awaiting_2fa` | Waiting for 2FA verification to complete |

## Next Steps

<CardGroup cols={2}>
  <Card title="Access API" icon="database" href="/sdk/csharp/modules/content-management">
    Use connection IDs to fetch OnlyFans data
  </Card>
  <Card title="Webhooks" icon="webhook" href="/reference/webhooks">
    Get notified when connections expire or change status
  </Card>
</CardGroup>
