---
title: "Configuration"
description: "Configuration options for the OFAuth C# SDK including base URLs, HTTP clients, and timeouts"
---

## Overview

The OFAuth SDK accepts configuration during client initialization. The core options are API key, connection ID, base URL, and custom HTTP client.

## Configuration Options

```csharp
using OFAuth;

var client = new OFAuthClient(
    apiKey: "sk_live_...",                              // Required: API key
    baseUrl: "https://api-next.ofauth.com",             // Optional: Custom base URL
    httpClient: customHttpClient                        // Optional: Custom HttpClient
).WithConnectionId("conn_xxx");                         // Optional: Default connection ID
```

## Options Reference

### `apiKey` (required)

Your OFAuth API key. Sent as the `apiKey` header on every request.

- **Production**: `sk_live_...`
- **Sandbox**: `sk_sandbox_...`

### `connectionId` (optional)

Default connection ID for Access API calls. Sent as the `x-connection-id` header. Can be overridden per-request.

### `baseUrl` (optional)

Override the API base URL. Defaults to `https://api-next.ofauth.com`. Useful for pointing to sandbox or custom environments.

| Language | Parameter name | Default |
|----------|---------------|---------|
| C# | `baseUrl` | `https://api-next.ofauth.com` |

### Custom HTTP Client (optional)

Override the underlying HTTP client for custom transport, proxies, or middleware.

| Language | Parameter | Default |
|----------|-----------|---------|
| C# | `httpClient` | New `HttpClient` instance |

## Environment Variables

Store sensitive configuration in environment variables:

```bash .env
# Required
OFAUTH_API_KEY=sk_live_your_api_key_here

# Optional
OFAUTH_CONNECTION_ID=conn_xxx
```

```csharp
var client = new OFAuthClient(
    apiKey: Environment.GetEnvironmentVariable("OFAUTH_API_KEY")
).WithConnectionId(
    Environment.GetEnvironmentVariable("OFAUTH_CONNECTION_ID")
);
```

<Warning>
  Never commit API keys to version control. Add `.env` to your `.gitignore`.
</Warning>

## Custom HTTP Client Configuration

### C# â€” Custom HttpClient

Pass a pre-configured `HttpClient` or use `IHttpClientFactory` for connection pooling:

```csharp
using OFAuth;

// Custom HttpClient with timeout
var httpClient = new HttpClient
{
    Timeout = TimeSpan.FromSeconds(60)
};

var client = new OFAuthClient(
    apiKey: "your-api-key",
    httpClient: httpClient
);

// With dependency injection and IHttpClientFactory
services.AddHttpClient<OFAuthClient>((sp, http) =>
{
    http.Timeout = TimeSpan.FromSeconds(60);
});
```

## Base URL Configuration

Override the base URL for sandbox testing or custom proxy setups:

```csharp
// Point to sandbox
var client = new OFAuthClient(
    apiKey: "sk_sandbox_...",
    baseUrl: "https://api-sandbox.ofauth.com"
);
```

## Resource Cleanup

The C# SDK holds HTTP connections that should be closed when you're done:

```csharp
// Option 1: using statement (recommended)
using var client = new OFAuthClient("your-api-key");
var account = await client.GetAsync<WhoamiResponse>("/v2/account/whoami");
// Automatically disposed

// Option 2: Manual disposal
var client = new OFAuthClient("your-api-key");
try
{
    var account = await client.GetAsync<WhoamiResponse>("/v2/account/whoami");
}
finally
{
    client.Dispose();
}
```

## Next Steps

<CardGroup cols={2}>
  <Card title="Authentication" icon="key" href="/sdk/csharp/core-concepts/authentication">
    Learn about API keys and connection IDs
  </Card>
  <Card title="Architecture" icon="sitemap" href="/sdk/csharp/core-concepts/architecture">
    Understand SDK structure and API namespaces
  </Card>
</CardGroup>
