---
title: "Architecture"
description: "How the OFAuth SDKs are structured across TypeScript, Python, Go, and C#"
---

## Overview

The OFAuth SDKs provide type-safe access to the OFAuth API. Each SDK follows the conventions of its language while maintaining a consistent mental model:

1. **Create a client** with your API key
2. **Call methods** organized by API namespace
3. **Handle errors** via language-native exceptions

All SDKs are generated from the same OpenAPI specification, ensuring consistent behavior and type safety across languages.

## Two API Namespaces

The OFAuth API is organized into two namespaces:

| Namespace | Purpose | Connection ID | Examples |
|-----------|---------|---------------|----------|
| **Account** | Manage your OFAuth organization | Not required | `whoami`, `connections.list`, `settings` |
| **Access** | Read/write OnlyFans data | Required | `self`, `posts`, `chats`, `earnings` |

**Account API** operations manage your OFAuth organization — listing connections, reading settings, and checking account info. These only require your API key.

**Access API** operations interact with OnlyFans data through a specific connection. These require both your API key and a connection ID identifying which OnlyFans account to act on.

## Client Patterns by Language

Each SDK uses the idiomatic pattern for its language:

### TypeScript — Factory Function + Nested Namespaces

The TypeScript SDK uses a factory function that returns a client with nested namespaces mirroring the API structure:

```typescript
import { createOFAuthClient } from '@ofauth/onlyfans-sdk';

const client = createOFAuthClient({
  apiKey: 'your-api-key',
  connectionId: 'conn_xxx',  // optional default
});

// Account namespace — no connection ID needed
const account = await client.account.whoami();
const connections = await client.account.connections.list();

// Access namespace — uses connection ID
const profile = await client.access.self.get();
const posts = await client.access.listPosts({ limit: 20 });
```

### Python — Class Constructor + Module Functions

The Python SDK uses a client class paired with standalone module functions. You pass the client as the first argument:

```python
from onlyfans_sdk import OFAuthClient, account, posts

client = OFAuthClient(
    api_key="your-api-key",
    connection_id="conn_xxx",  # optional default
)

# Account namespace
result = account.whoami(client)
connections = account.list_connections(client, status="active")

# Access namespace
post_list = posts.list_posts(client, limit=20)
```

### Go — Builder Pattern + Flat Methods

The Go SDK uses a builder pattern for configuration and flat, typed methods with context:

```go
import "github.com/ofauth-org/onlyfans-sdk-go"

client := ofauth.NewClient("your-api-key").
    WithConnectionID("conn_xxx")

ctx := context.Background()

// Account namespace
account, err := client.Whoami(ctx)
connections, err := client.ListAccountConnections(ctx, nil)

// Access namespace
profile, err := client.GetAccessSelf(ctx, nil)
posts, err := client.ListAccessPosts(ctx, &ofauth.RequestOptions{
    Query: url.Values{"limit": []string{"20"}},
})
```

### C# — Class Constructor + Generic HTTP Methods

The C# SDK uses a class with generic HTTP methods and path-based routing:

```csharp
using OFAuth;

var client = new OFAuthClient("your-api-key")
    .WithConnectionId("conn_xxx");

// Account namespace
var account = await client.GetAsync<WhoamiResponse>("/v2/account/whoami");
var connections = await client.GetAsync<ConnectionsListResponse>("/v2/account/connections");

// Access namespace
var profile = await client.GetAsync<SelfResponse>("/v2/access/self");
var posts = await client.GetAsync<PostsListResponse>(
    "/v2/access/posts",
    query: new Dictionary<string, string?> { ["limit"] = "20" }
);
```

## Client Structure

The following diagram shows how the client is organized in each language:

```
OFAuth Client
|
|-- API Key (sent as `apiKey` header)
|-- Connection ID (sent as `x-connection-id` header)
|-- Base URL
|
|-- Account Namespace (/v2/account/*)
|   |-- whoami
|   |-- connections (list, delete, invalidate, settings)
|   |-- settings (get, update)
|
|-- Access Namespace (/v2/access/*) — requires connection ID
|   |-- self (creator profile)
|   |-- posts (list, create)
|   |-- chats (messages, conversations)
|   |-- subscribers (list, data)
|   |-- earnings (chart, analytics)
|   |-- vault (media storage)
|   |-- promotions (links, campaigns)
|   |-- uploads (media upload with chunking)
|
|-- Proxy (/v2/access/proxy/*) — call any OnlyFans endpoint
```

## Type Safety

Each SDK provides type safety using the idioms of its language:

<CodeGroup>
```typescript TypeScript
import type {
  AccountWhoamiResponse,
  AccountConnectionsListResponse,
  AccessSelfGetResponse,
} from '@ofauth/onlyfans-sdk';

// Response types are automatically inferred
const account = await client.account.whoami();
account.id;          // string
account.name;        // string | null
account.permissions; // string[]
```

```python Python
from onlyfans_sdk import models

# Pydantic v2 models generated from OpenAPI spec
# models.V2AccountWhoamiGetResponse
# models.V2AccessPostsGetResponse
result = account.whoami(client)
```

```go Go
// Response structs generated from OpenAPI spec
account, _ := client.Whoami(ctx)
// account is *ofauth.WhoamiResponse

account.Id          // string
account.Name        // string
account.Permissions // []string
```

```csharp C#
// Model classes with JsonPropertyName attributes
// 473 generated types in Models.cs
var account = await client.GetAsync<WhoamiResponse>("/v2/account/whoami");

account.Id;          // string
account.Name;        // string?
account.Permissions; // List<string>
```
</CodeGroup>

## Error Handling

All SDKs throw language-native exceptions rather than returning result objects. Each SDK provides a typed error class with status code, message, error code, and details:

<CodeGroup>
```typescript TypeScript
import { OFAuthAPIError } from '@ofauth/onlyfans-sdk';

try {
  const account = await client.account.whoami();
} catch (error) {
  if (error instanceof OFAuthAPIError) {
    console.error(error.status, error.message, error.code);
  }
}
```

```python Python
from onlyfans_sdk import OFAuthError

try:
    result = account.whoami(client)
except OFAuthError as e:
    print(e.status, e.message, e.code)
```

```go Go
account, err := client.Whoami(ctx)
if err != nil {
    if apiErr, ok := err.(*ofauth.APIError); ok {
        fmt.Println(apiErr.Status, apiErr.Message, apiErr.Code)
    }
}
```

```csharp C#
try
{
    var account = await client.GetAsync<WhoamiResponse>("/v2/account/whoami");
}
catch (OFAuthException ex)
{
    Console.WriteLine($"{ex.Status} {ex.Message} {ex.Code}");
}
```
</CodeGroup>

## Pagination

TypeScript and Python SDKs include iterator helpers that handle pagination automatically:

<CodeGroup>
```typescript TypeScript
// Async iterator — yields items one at a time
for await (const connection of client.account.connections.iterate()) {
  console.log(connection.id);
}

// With options
for await (const connection of client.account.connections.iterate({
  maxItems: 100,
  pageSize: 20,
})) {
  console.log(connection.id);
}
```

```python Python
from onlyfans_sdk import account

# Generator — yields items one at a time
for connection in account.iter_connections(client):
    print(connection["id"])
```

```go Go
// Manual pagination with typed responses
connections, err := client.ListAccountConnections(ctx, &ofauth.RequestOptions{
    Query: url.Values{
        "limit":  []string{"20"},
        "offset": []string{"0"},
    },
})
for _, conn := range connections.List {
    fmt.Println(conn.Id)
}
```

```csharp C#
// Manual pagination with query parameters
var connections = await client.GetAsync<ConnectionsListResponse>(
    "/v2/account/connections",
    query: new Dictionary<string, string?> { ["limit"] = "20", ["offset"] = "0" }
);
foreach (var conn in connections.List)
{
    Console.WriteLine(conn.Id);
}
```
</CodeGroup>

## SDK Comparison

| Feature | TypeScript | Python | Go | C# |
|---------|-----------|--------|----|----|
| Package | `@ofauth/onlyfans-sdk` | `onlyfans-sdk` | `onlyfans-sdk-go` | `OnlyFans.SDK` |
| Repository | [onlyfans-sdk-typescript](https://github.com/OFAuth-org/onlyfans-sdk-typescript) | [onlyfans-sdk-python](https://github.com/OFAuth-org/onlyfans-sdk-python) | [onlyfans-sdk-go](https://github.com/OFAuth-org/onlyfans-sdk-go) | [onlyfans-sdk-csharp](https://github.com/OFAuth-org/onlyfans-sdk-csharp) |
| Client pattern | Factory function | Class + module functions | Builder pattern | Class + generic methods |
| Type generation | Inline from OpenAPI | Pydantic v2 models | Response structs | Model classes |
| Pagination | Async iterators | Generators | Manual | Manual |
| HTTP client | Custom `fetch` | `httpx` | `net/http` (stdlib) | `HttpClient` |
| Error type | `OFAuthAPIError` | `OFAuthError` | `*APIError` | `OFAuthException` |

<Info>
  All SDKs are generated from the same OpenAPI specification and provide identical API coverage. Choose the one that matches your stack.
</Info>
