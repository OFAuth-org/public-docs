---
title: "Messaging"
description: "Send direct messages, manage mass campaigns, and retrieve conversations through the OFAuth SDK"
---

## Overview

The Messaging module handles all chat and messaging functionality including direct messages, mass message campaigns, and chat media retrieval.

<CardGroup cols={3}>
  <Card title="Chats" icon="messages">
    List conversations and filter by status
  </Card>
  <Card title="Direct Messages" icon="message">
    Send, list, and delete messages in a chat
  </Card>
  <Card title="Mass Messages" icon="megaphone">
    Create and manage mass message campaigns
  </Card>
</CardGroup>

**Permissions required:** `messages:read` for listing, `messages:write` for sending/deleting.

---

## Chat List

Retrieve your active conversations with filtering and pagination.

<CodeGroup>
```typescript TypeScript
import { createOFAuthClient } from '@ofauth/onlyfans-sdk';

const client = createOFAuthClient({
  apiKey: 'your-api-key',
  connectionId: 'conn_xxx',
});

// List recent chats
const chats = await client.access.chats.list({
  limit: 20,
  order: 'recent',
  filter: 'unread',
});

for (const chat of chats.list) {
  console.log(chat.withUser.username, chat.lastMessage?.text);
}
```

```python Python
from onlyfans_sdk import OFAuthClient, messages

client = OFAuthClient(api_key="your-api-key", connection_id="conn_xxx")

# List recent chats
chats = messages.list_chats(
    client,
    limit=20,
    order="recent",
    filter="unread",
)

for chat in chats["list"]:
    print(chat["withUser"]["username"])
```

```go Go
ctx := context.Background()
client := ofauth.NewClient("your-api-key").
    WithConnectionID("conn_xxx")

chats, err := client.ListAccessChats(ctx, &ofauth.RequestOptions{
    Query: url.Values{
        "limit":  []string{"20"},
        "order":  []string{"recent"},
        "filter": []string{"unread"},
    },
})
if err != nil {
    log.Fatal(err)
}

for _, chat := range chats.List {
    fmt.Println(chat.WithUser.Username)
}
```

```csharp C#
using OFAuth;

var client = new OFAuthClient("your-api-key")
    .WithConnectionId("conn_xxx");

var chats = await client.GetAsync<ChatsListResponse>(
    "/v2/access/chats",
    query: new Dictionary<string, string?>
    {
        ["limit"] = "20",
        ["order"] = "recent",
        ["filter"] = "unread"
    }
);

foreach (var chat in chats.List)
{
    Console.WriteLine(chat.WithUser.Username);
}
```
</CodeGroup>

### Chat List Filters

| Filter | Description |
|--------|-------------|
| `recent` / `old` | Sort by message recency (via `order`) |
| `priority` | Priority conversations only (via `filter`) |
| `who_tipped` | Users who have tipped (via `filter`) |
| `unread` | Unread conversations only (via `filter`) |

You can also filter by `userListId` to show chats only from a specific user list.

### Paginating Chats

All SDKs support automatic pagination through iterators:

<CodeGroup>
```typescript TypeScript
// Async iterator handles pagination automatically
for await (const chat of client.access.chats.iterate({
  order: 'recent',
  maxItems: 100,
  pageSize: 20,
})) {
  console.log(chat.withUser.username);
}
```

```python Python
# Generator handles pagination automatically
for chat in messages.iter_chats(client, order="recent", max_items=100, page_size=20):
    print(chat["withUser"]["username"])
```
</CodeGroup>

---

## Messages

### List Messages in a Chat

Retrieve message history with a specific user.

<CodeGroup>
```typescript TypeScript
const msgs = await client.access.chats.listMessages({
  userId: '123456789',
  limit: 50,
  query: 'search term', // optional text search
});

for (const msg of msgs.list) {
  console.log(msg.text, msg.createdAt);
}
```

```python Python
msgs = messages.list_chats_chats_messages(
    client,
    user_id="123456789",
    limit=50,
    query="search term",
)

for msg in msgs["list"]:
    print(msg["text"], msg["createdAt"])
```

```go Go
msgs, err := client.ListAccessChatsMessages(ctx, "123456789", &ofauth.RequestOptions{
    Query: url.Values{
        "limit": []string{"50"},
        "query": []string{"search term"},
    },
})
if err != nil {
    log.Fatal(err)
}

for _, msg := range msgs.List {
    fmt.Println(msg.Text, msg.CreatedAt)
}
```

```csharp C#
var msgs = await client.GetAsync<ChatsMessagesResponse>(
    "/v2/access/chats/123456789/messages",
    query: new Dictionary<string, string?>
    {
        ["limit"] = "50",
        ["query"] = "search term"
    }
);

foreach (var msg in msgs.List)
{
    Console.WriteLine($"{msg.Text} - {msg.CreatedAt}");
}
```
</CodeGroup>

### Send a Message

Send a direct message to a specific user.

<CodeGroup>
```typescript TypeScript
const result = await client.access.chats.createMessages({
  userId: '123456789',
  body: {
    text: 'Hey! Thanks for subscribing!',
  },
});

console.log('Message sent:', result.id);
```

```python Python
result = messages.create_chats_chats_messages(
    client,
    user_id="123456789",
    body={
        "text": "Hey! Thanks for subscribing!",
    },
)

print("Message sent:", result["id"])
```

```go Go
result, err := client.CreateAccessChatsMessages(ctx, "123456789", struct {
    Text string `json:"text"`
}{
    Text: "Hey! Thanks for subscribing!",
})
if err != nil {
    log.Fatal(err)
}

fmt.Println("Message sent:", result.Id)
```

```csharp C#
var result = await client.PostAsync<ChatMessageResponse>(
    "/v2/access/chats/123456789/messages",
    body: new { text = "Hey! Thanks for subscribing!" }
);

Console.WriteLine($"Message sent: {result.Id}");
```
</CodeGroup>

### Delete (Unsend) a Message

<CodeGroup>
```typescript TypeScript
await client.access.chats.deleteMessages({
  userId: '123456789',
  messageId: '987654',
  body: {},
});
```

```python Python
messages.delete_chats_chats_messages(
    client,
    user_id="123456789",
    message_id="987654",
    body={},
)
```

```go Go
err := client.DeleteAccessChatsMessages(ctx, "123456789", "987654", struct{}{})
```

```csharp C#
await client.DeleteAsync<object>(
    "/v2/access/chats/123456789/messages/987654"
);
```
</CodeGroup>

---

## Mass Messages

Mass messages let you send a single message to multiple fans at once. They can be sent immediately or scheduled.

### List Mass Messages

<CodeGroup>
```typescript TypeScript
const massMsgs = await client.access.listMassMessages({
  limit: 20,
  type: 'scheduled', // 'sent' | 'unsent' | 'scheduled'
});

for (const msg of massMsgs.list) {
  console.log(msg.id, msg.text);
}
```

```python Python
mass_msgs = messages.list_mass_messages(
    client,
    limit=20,
    type="scheduled",
)

for msg in mass_msgs["list"]:
    print(msg["id"], msg["text"])
```

```go Go
massMsgs, err := client.ListAccessMassMessages(ctx, &ofauth.RequestOptions{
    Query: url.Values{
        "limit": []string{"20"},
        "type":  []string{"scheduled"},
    },
})
if err != nil {
    log.Fatal(err)
}

for _, msg := range massMsgs.List {
    fmt.Println(msg.Id, msg.Text)
}
```

```csharp C#
var massMsgs = await client.GetAsync<MassMessagesListResponse>(
    "/v2/access/mass-messages",
    query: new Dictionary<string, string?>
    {
        ["limit"] = "20",
        ["type"] = "scheduled"
    }
);

foreach (var msg in massMsgs.List)
{
    Console.WriteLine($"{msg.Id}: {msg.Text}");
}
```
</CodeGroup>

### Create a Mass Message

<CodeGroup>
```typescript TypeScript
const massMsg = await client.access.createMassMessages({
  body: {
    text: 'New content available! Check it out!',
    mediaIds: [12345],
  },
});

console.log('Mass message created:', massMsg.id);
```

```python Python
mass_msg = messages.create_mass_messages(
    client,
    body={
        "text": "New content available! Check it out!",
        "mediaIds": [12345],
    },
)

print("Mass message created:", mass_msg["id"])
```

```go Go
massMsg, err := client.CreateAccessMassMessages(ctx, struct {
    Text     string `json:"text"`
    MediaIds []int  `json:"mediaIds"`
}{
    Text:     "New content available! Check it out!",
    MediaIds: []int{12345},
})
if err != nil {
    log.Fatal(err)
}

fmt.Println("Mass message created:", massMsg.Id)
```

```csharp C#
var massMsg = await client.PostAsync<MassMessageResponse>(
    "/v2/access/mass-messages",
    body: new
    {
        text = "New content available! Check it out!",
        mediaIds = new[] { 12345 }
    }
);

Console.WriteLine($"Mass message created: {massMsg.Id}");
```
</CodeGroup>

### Get, Update, and Delete Mass Messages

<CodeGroup>
```typescript TypeScript
// Get a specific mass message
const msg = await client.access.getMassMessages({
  massMessageId: '456',
});

// Update a mass message
await client.access.replaceMassMessages({
  massMessageId: '456',
  body: {
    text: 'Updated message text',
  },
});

// Delete a mass message
await client.access.deleteMassMessages({
  massMessageId: '456',
});
```

```python Python
# Get a specific mass message
msg = messages.get_mass_messages(client, mass_message_id="456")

# Update a mass message
messages.replace_mass_messages(
    client,
    mass_message_id="456",
    body={"text": "Updated message text"},
)

# Delete a mass message
messages.delete_mass_messages(client, mass_message_id="456")
```

```go Go
// Get a specific mass message
msg, err := client.GetAccessMassMessages(ctx, "456")

// Update a mass message
_, err = client.ReplaceAccessMassMessages(ctx, "456", struct {
    Text string `json:"text"`
}{
    Text: "Updated message text",
})

// Delete a mass message
_, err = client.DeleteAccessMassMessages(ctx, "456")
```

```csharp C#
// Get a specific mass message
var msg = await client.GetAsync<MassMessageResponse>(
    "/v2/access/mass-messages/456"
);

// Update a mass message
await client.PutAsync<MassMessageResponse>(
    "/v2/access/mass-messages/456",
    body: new { text = "Updated message text" }
);

// Delete a mass message
await client.DeleteAsync<object>("/v2/access/mass-messages/456");
```
</CodeGroup>

---

## Chat Media

Retrieve media shared in a chat conversation. Filter by type to get only photos, videos, or audio.

<CodeGroup>
```typescript TypeScript
const media = await client.access.chats.listMedia({
  userId: '123456789',
  limit: 20,
  type: 'photos', // 'photos' | 'videos' | 'audios'
});

for (const item of media.list) {
  console.log(item.id, item.type);
}
```

```python Python
media = messages.list_chats_chats_media(
    client,
    user_id="123456789",
    limit=20,
    type="photos",
)

for item in media["list"]:
    print(item["id"], item["type"])
```

```go Go
media, err := client.ListAccessChatsMedia(ctx, "123456789", &ofauth.RequestOptions{
    Query: url.Values{
        "limit": []string{"20"},
        "type":  []string{"photos"},
    },
})
if err != nil {
    log.Fatal(err)
}

for _, item := range media.List {
    fmt.Println(item.Id, item.Type)
}
```

```csharp C#
var media = await client.GetAsync<ChatsMediaResponse>(
    "/v2/access/chats/123456789/media",
    query: new Dictionary<string, string?>
    {
        ["limit"] = "20",
        ["type"] = "photos"
    }
);

foreach (var item in media.List)
{
    Console.WriteLine($"{item.Id}: {item.Type}");
}
```
</CodeGroup>

---

## Error Handling

All SDKs throw exceptions on API errors. Use try/catch to handle them:

<CodeGroup>
```typescript TypeScript
import { OFAuthAPIError } from '@ofauth/onlyfans-sdk';

try {
  await client.access.chats.createMessages({
    userId: '123456789',
    body: { text: 'Hello!' },
  });
} catch (error) {
  if (error instanceof OFAuthAPIError) {
    console.error('API Error:', error.status, error.message);
    console.error('Error code:', error.code);
  } else {
    throw error;
  }
}
```

```python Python
from onlyfans_sdk import OFAuthError

try:
    messages.create_chats_chats_messages(
        client,
        user_id="123456789",
        body={"text": "Hello!"},
    )
except OFAuthError as e:
    print(f"API Error {e.status}: {e}")
    print(f"Error code: {e.code}")
```

```go Go
result, err := client.CreateAccessChatsMessages(ctx, "123456789", struct {
    Text string `json:"text"`
}{Text: "Hello!"})
if err != nil {
    if apiErr, ok := err.(*ofauth.APIError); ok {
        fmt.Printf("API Error %d: %s\n", apiErr.Status, apiErr.Message)
    } else {
        log.Fatal(err)
    }
}
```

```csharp C#
try
{
    await client.PostAsync<ChatMessageResponse>(
        "/v2/access/chats/123456789/messages",
        body: new { text = "Hello!" }
    );
}
catch (OFAuthException ex)
{
    Console.WriteLine($"API Error {ex.Status}: {ex.Message}");
    Console.WriteLine($"Error code: {ex.Code}");
}
```
</CodeGroup>

<Warning>
  **Rate Limiting**: OnlyFans has rate limits for messaging. Space out bulk operations and handle `429` status codes with appropriate backoff.
</Warning>
